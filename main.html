<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>한글로 초성 추출</title>
  </head>
  <body>
    <form id="login-form">
      <input required maxlength="15" type="text" placeholder="add your name" />
      <button>Push</button>
    </form>
    <div id="here"></div>
  </body>
  <script>
    const chosungList = [
      "ㄱ",
      "ㄲ",
      "ㄴ",
      "ㄷ",
      "ㄸ",
      "ㄹ",
      "ㅁ",
      "ㅂ",
      "ㅃ",
      "ㅅ",
      "ㅆ",
      "ㅇ",
      "ㅈ",
      "ㅉ",
      "ㅊ",
      "ㅋ",
      "ㅌ",
      "ㅍ",
      "ㅎ",
    ];
    const joongsungLIst = [
      "ㅏ",
      "ㅐ",
      "ㅑ",
      "ㅒ",
      "ㅓ",
      "ㅔ",
      "ㅕ",
      "ㅖ",
      "ㅗ",
      "ㅘ",
      "ㅙ",
      "ㅚ",
      "ㅛ",
      "ㅜ",
      "ㅝ",
      "ㅞ",
      "ㅟ",
      "ㅠ",
      "ㅡ",
      "ㅢ",
      "ㅣ",
    ];
    const jongsungList = [
      "",
      "ㄱ",
      "ㄲ",
      "ㄳ",
      "ㄴ",
      "ㄵ",
      "ㄶ",
      "ㄷ",
      "ㄹ",
      "ㄺ",
      "ㄻ",
      "ㄼ",
      "ㄽ",
      "ㄾ",
      "ㄿ",
      "ㅀ",
      "ㅁ",
      "ㅂ",
      "ㅄ",
      "ㅅ",
      "ㅆ",
      "ㅇ",
      "ㅈ",
      "ㅊ",
      "ㅋ",
      "ㅌ",
      "ㅍ",
      "ㅎ",
    ];
    let chosung, joongsung, jongsung;
    let test;

    const loginInput = document.querySelector("#login-form input");
    const loginButton = document.querySelector("#login-form button");

    function loginButtonClick() {
      event.preventDefault();

      test = Array.from(loginInput.value);
      console.log(test);
      loginInput.value = "";
      box = document.getElementById("here");
      for (let i = 0; i < test.length; i++) {
        let unicode = test[i].charCodeAt(0) - 0xac00;
        jongsung = unicode % 28;
        joongsung = ((unicode - jongsung) / 28) % 21;
        chosung = ((unicode - jongsung) / 28 - joongsung) / 21;
        baby = document.createElement("span");
        baby.innerHTML = chosungList[chosung];
        box.appendChild(baby);

        console.log(
          "초성:" +
            chosungList[chosung] +
            "\n" +
            "중성:" +
            joongsungLIst[joongsung] +
            "\n" +
            "종성:" +
            jongsungList[jongsung]
        );
      }
    }

    loginButton.addEventListener("click", loginButtonClick);
  </script>
</html>
